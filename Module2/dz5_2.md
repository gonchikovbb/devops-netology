**Задача 1**
---
Сценарии:
+ _100 виртуальных машин на базе Linux и Windows, общие задачи, нет особых требований
Преимущественно Windows based инфраструктура, требуется реализация программных балансировщиков нагрузки, репликации данных и автоматизированного механизма создания резервных копий_

VMware vSphere является наиболее сбалансированным и универсальным продуктом для организаций с высокими требованиями к их виртуальной инфраструктуре.
Гипервизор VMware vSphere ESXi™ предоставляет надежный, проверенный в производственных средах и высокопроизводительный уровень виртуализации. С его помощью несколько виртуальных машин могут совместно использовать аппаратные ресурсы и поддерживать производительность, сопоставимую со стандартной пропускной способностью (а в некоторых случаях превышающей ее).
VMware Data Recovery предоставляет удобное экономичное резервное копирование и восстановление виртуальных машин в малых средах без использования агентов

+ _Требуется наиболее производительное бесплатное opensource решение для виртуализации небольшой (20 серверов) инфраструктуры Linux и Windows виртуальных машин_

Для Linux Xen, является opensource, имеет лучшие драйверы для Linux-дистрибутивов. Xen-хосты, как правило, предварительно выделяют ОЗУ и ядра для гипервизора, поэтому он имеет свои собственные выделенные ресурсы, на которые не могут повлиять гостевые ОС, что и дает стабильности в работе.

Для Windows KVM, является opensource, представитель аппаратной виртуализации, можно запустить практически любую операционную систему в качестве гостевой - BSD / Windows / Linux и с драйвером virtio получим близкую к нативной производительность. KVM поддерживает установку из ISO образа, а также шаблоны установки. Каждая гостевая машина работает, как процесс на хостовой машине.

+ _Необходимо бесплатное, максимально совместимое и производительное решение для виртуализации Windows инфраструктуры_

Hyper-V является выбором defacto для окружений с преобладанием технологий Microsoft. Богатый дополнительный функционал, высокое быстродействие и относительная простота в изучении может также стать решающими в выборе данной системы

Преимущества:
упрощенное управления драйверами устройств, широкий диапазон поддерживаемых -устройств;
простота установки новых ролей сервера;
время инициализации сокращается благодаря небольшому размеру кода кода Microsoft Hypervisor;
нет прерывания сервиса для обслуживания или обновления безопасности;
сервисы могут быть масштабированы;
более низкий порог вхождения для инженеров.

+ _Необходимо рабочее окружение для тестирование программного продукта на нескольких дистрибутивах Linux_

Docker — среда для контейнеризации софта, позволяющая легко создавать и передавать отдельные контейнеры с софтом, которые работают везде одинаково. Можно один раз настроить все нужные приложения, положить их в свои контейнеры — а потом запускать где угодно и сколько угодно раз. Это значительно сокращает время тестирования и повышает его удобство.

**Задача 2**
--
_Опишите сценарий миграции с VMware vSphere на Hyper-V для Linux и Windows виртуальных машин. Детально опишите необходимые шаги для использования всех преимуществ Hyper-V для Windows_

Конвертируем виртуальные машины VMWare в Hyper-V:
1. Для первоначального развертывания воспользуемся любым продуктом VMWare, с помощью которого произведем импорт OVF файла в виртуальную машину. Затем, не запуская ее, внимательно изучим настройки, особенно в той части, которые касаются выделяемых ресурсов и сети.
2. Если виртуальная машина уже работала на платформе VMWare (как чаще всего и бывает), то удаляем из нее VMWare Tools и выключаем машину.
3. Теперь можно приступать к конвертации виртуального диска. Для этого воспользуемся бесплатной утилитой StarWind V2V Converter. Ее интерфейс и использование предельно просты. Выберем исходный виртуальный диск (файл с расширением vmdk).
4. Как видим, это расширяемый диск, теперь выберем необходимый формат, для Hyper-V это формат MS Virtual PC. Нам доступны два варианта диска: расширяемый (growable) и pre-allocated, когда место выделяется на диске сразу. Нас интересует первый вариант.
5. По окончании конвертации в папке с виртуальной машиной появится второй файл виртуального диска в формате Hyper-V.
6. Его следует скопировать отсюда и разместить в хранилище виртуальных дисков Hyper-V.
7. Теперь создадим новую виртуальную машину Hyper-V первого поколения и в опциях выбора жесткого диска укажем на сконвертированный файл.
8. После создания перейдем к настройкам и выделим ресурсы согласно тем требованиям, которые были в настройках машины в VMWare, при этом указанные там параметры не догма, руководствуйтесь здравым смыслом и собственной оценкой необходимых ресурсов.
9. Не забудьте проверить и настроить специфичные для вашего гипервизора параметры, например, действия при запуске или завершении работы хоста.  После чего можем запускать нашу виртуальную машину. Если все сделано правильно, то проблем не будет.
10. Что можно сделать еще? Если вы используете Hyper-V 3.0 и старше (доступны начиная с Windows Server 2012) то имеет смысл еще раз преобразовать виртуальный диск в новый формат VHDX. Для этого выключите виртуальную машину, перейдите в настройки диска и нажмите кнопку Правка.
11. В появившемся мастере выберите Преобразовать, укажите формат (VHDX) и тип (расширяемый) диска, а также его имя и расположение:
12. После нажатия на кнопку Готово начнется процесс преобразования диска, что может занять продолжительное время и потребовать дисковых ресурсов, поэтому лучше всего выполнять это действие в нерабочее время.
13. По окончании преобразования еще раз заходим в свойства жесткого диска и выбираем там VHDX образ, подтверждаем изменения и запускаем виртуальную машину. Убедившись, что все работает нормально, старый VHD диск можно удалить.

**Задача 3**
--
_Опишите возможные проблемы и недостатки гетерогенной среды виртуализации (использования нескольких систем управления виртуализацией одновременно) и что необходимо сделать для минимизации этих рисков и проблем. Если бы у вас был бы выбор, то создавали ли вы бы гетерогенную среду или нет? Мотивируйте ваш ответ примерами_

Гетерогенная виртуальная среда может образоваться в результате объединения компаний, в которых были развернуты разные виртуальные платформы. Также гетерогенность возникает в результате развертывания дополнительной виртуальной платформы с целью получения новой функциональности виртуальной среды или снижения стоимости решений виртуализации

В гетерогенной среде эта ситуация усугубляется тем, что необходимо одновременно управлять несколькими виртуальными платформами, а возможности автоматизации управления еще более ограничены совместимостью платформ.

К минусам продукта можно отнести чрезвычайно высокую стоимость внедрения и поддержки, недостаточную гибкость настройки оповещений, использование разрозненных показателей производительности в модели состояния вычислительных ресурсов.

Основной проблемой, возникающей при эксплуатации гетерогенной среды, является проблема единого управления, включающая проблему распределения и мониторинга вычислительных ресурсов

Принципы, которые помогут реализовать преимущества виртуализации:
+ Для гибридной среды нужны гибридные решения – необходимо использовать комплексные решения, которые смогут функционировать как в физической, так и в виртуальной среде
+ Меньше – значит больше – нужно максимально снизить вероятность несовместимости технологий и упростить управление инфраструктурой для обеспечения совместимости и масштабируемости ИТ-инфраструктуры в рамках всей виртуальной среды
+ Необходимость в универсальной платформе для удобного перемещения и защиты данных – универсальная платформа упростит перемещение данных между гипервизорами и обеспечит их надежную защиту, автоматически создавая виртуальные машины в качестве резервной копии физических серверов, чтобы не перемещать виртуальные машины полностью.

При задаче создания инфра¬структуры, включающей в себя разные типы ОС и приложений актуально будет выбрать гетерогенной платформу от VMware. Почему VMware ? Потому, что как уже упоминалось в задаче 1, VMware vSphere является наиболее сбалансированным и универсальным продуктом для организаций с высокими требованиями к их виртуальной инфраструктуре.
